<!DOCTYPE html>
<html>
<head>
    <title>cashew: configForceRequireSync Test</title>
    <script type="text/javascript" src="../doh/runner.js"></script>
    <script type="text/javascript" src="../doh/_browserRunner.js"></script>
    <script type="text/javascript" src="../../cashew.js"></script>
    <script type="text/javascript">
        require.config({
            anonIdGenerator: (currScript) => currScript.getAttribute('src'),
            forceRequireSync: (currScript) => !currScript.async,
        });

        window.valAsync = null;
        window.valSync = null;
    </script>
    <script async type="text/javascript" src="mainAsync.js"></script>
    <script type="text/javascript" src="mainSync.js"></script>
    <script type="text/javascript">
        doh.register(
            'configForceRequireSync',
            [
                function configForceRequireSync(t){
                    t.is(null, window.valAsync);
                    t.is("HEWOO", window.valSync);
                }
            ]
        );
        doh.run();
    </script>
</head>
<body>
    <h1>cashew: configForceRequireSync Test</h1>

    <p>Make sure cashew allows using config.configForceRequireSync.</p>

    <p>Check console for messages</p>
</body>
</html>
